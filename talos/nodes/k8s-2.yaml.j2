---
machine:
  type: controlplane
  nodeLabels:
    topology.kubernetes.io/zone: m
---
apiVersion: v1alpha1
kind: HostnameConfig
hostname: k8s-2
---
apiVersion: v1alpha1
kind: LinkAliasConfig
name: k8s-2-to-k8s-0
selector:
  match: link.driver == "thunderbolt-net" && link.bus_path == "1-1.0"
---
apiVersion: v1alpha1
kind: LinkConfig
name: k8s-2-to-k8s-0
addresses:
  - address: 169.254.255.22/32 # k8s-2
mtu: 65520
routes:
  - destination: 169.254.255.20/32 # k8s-0
    metric: 2048
up: true
---
apiVersion: v1alpha1
kind: LinkAliasConfig
name: k8s-2-to-k8s-1
selector:
  match: link.driver == "thunderbolt-net" && link.bus_path == "0-1.0"
---
apiVersion: v1alpha1
kind: LinkConfig
name: k8s-2-to-k8s-1
addresses:
  - address: 169.254.255.22/32 # k8s-2
mtu: 65520
routes:
  - destination: 169.254.255.21/32 # k8s-1
    metric: 2048
up: true
