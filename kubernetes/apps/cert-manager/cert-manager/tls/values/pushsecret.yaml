---
rawResources:
  devbu-io-tls:
    apiVersion: external-secrets.io/v1alpha1
    kind: PushSecret
    spec:
      secretStoreRefs:
        - name: onepassword-connect
          kind: ClusterSecretStore
      selector:
        secret:
          name: devbu-io-tls
      template:
        engineVersion: v2
        data:
          tls.crt: '{{ index . "tls.crt" | b64enc }}'
          tls.key: '{{ index . "tls.key" | b64enc }}'
      data:
        - match:
            secretKey: tls.crt
            remoteRef:
              remoteKey: devbu-io-tls
              property: tls.crt
        - match:
            secretKey: tls.key
            remoteRef:
              remoteKey: devbu-io-tls
              property: tls.key
